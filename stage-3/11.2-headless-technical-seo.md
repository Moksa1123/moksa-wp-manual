# 11.02 (實務) 技術性 SEO 檢查清單 (Core Web Vitals)

嗨，歡迎來到 MoksaWP 開發課程！我是你的導師。

在前面的章節中，我們專注於如何「開發」佈景主題與外掛，也就是如何「創造」功能。然而，一個功能再強大、外觀再華麗的網站，如果沒有使用者能找到它，那一切都是徒勞。這就是 SEO (搜尋引擎優化) 至關重要的原因。

SEO 分為許多面向，而「技術性 SEO (Technical SEO)」是身為開發者的我們最需要掌握、也最能發揮價值的一環。它關乎網站的底層架構，確保搜尋引擎能夠順利地抓取、索引及理解你的網站內容。

而在眾多技術性 SEO 指標中，Google 近年來極度重視 **Core Web Vitals (網站核心體驗指標)**，它直接關係到使用者體驗，並已成為**正式的排名因素**。本章節的目標，就是帶你走過一份完整的技術性 SEO 檢查清單，並將重點放在如何使用 Moksa 技術棧的工具來優化 Core Web Vitals。

---

### 核心觀念：什麼是 Core Web Vitals？

Core Web Vitals 是 Google 用來衡量網頁「使用者體驗」的一組具體指標，主要包含三個項目：

1.  **LCP (Largest Contentful Paint) - 最大內容繪製**：衡量**載入效能**。從使用者點擊連結開始，到畫面中最大的圖片或文字區塊被呈現出來，所需的時間。**目標是 2.5 秒內**。
2.  **INP (Interaction to Next Paint) - 下次繪製互動**：衡量**互動性**。當使用者與頁面進行互動（如點擊按鈕、開啟選單）時，瀏覽器需要多久才能對該互動產生視覺上的回應。**目標是 200 毫秒內**。(INP 已於 2024 年 3 月正式取代舊的 FID 指標)
3.  **CLS (Cumulative Layout Shift) - 累計版面配置位移**：衡量**視覺穩定性**。頁面在載入過程中，是否有非預期的版面元素移動？例如，點擊按鈕時，按鈕突然下移，導致你點到廣告。**目標是 0.1 以下**。

接下來，我們將動手實作，學習如何檢測並優化這些指標。

---

### Part 1: 檢測工具與基礎設定

在開始優化之前，我們必須先學會如何「測量」。沒有測量，就無法改善。

#### 步驟 1：設定並活用 Google Search Console (GSC)

Google Search Console 是所有網站管理員的必備工具，它是你與 Google 溝通的官方管道。

*   **用途**：GSC 會收集你網站上「真實使用者」的數據 (稱為「現場資料」或 "Field Data")，並在「網站核心體驗指標」報告中告訴你，你的網站整體表現如何。
*   **Moksa 技巧**：GSC 的數據是**最終的評斷標準**。其他工具跑分再高，都不如 GSC 報告顯示的結果重要。你必須定期檢查這裡的報告，查看是否有「需要改善」或「速度緩慢」的網址群組。
*   **操作**：
    1.  登入 Google Search Console。
    2.  在左側選單找到「體驗」>「網站核心體驗指標」。
    3.  這裡會顯示你網站在行動裝置和電腦上的整體評分。
    4.  點擊「開啟報告」，你可以看到具體是哪些網址群組出現了 LCP、INP 或 CLS 的問題。

``

#### 步驟 2：使用 Google PageSpeed Insights (PSI) 進行單頁分析

當 GSC 告訴你「某個網址群組」有問題時，你需要用 PageSpeed Insights 來針對「單一網址」進行深入分析。

*   **用途**：分析特定頁面的效能，並提供詳細的診斷建議。
*   **操作**：
    1.  前往 [Google PageSpeed Insights](https://pagespeed.web.dev/)。
    2.  輸入你想要分析的網址，然後點擊「分析」。
    3.  **Moksa 技巧**：分析結果頂部會顯示「這個網址在 Core Web Vitals 評估中的表現」。底下會分為「根據實際使用者體驗進行診斷」(現場資料) 和「診斷效能問題」(模擬資料)。前者反映了過去 28 天的真實情況，後者則是你每次測試時的模擬結果，可以用來驗證你的優化是否有立即成效。
    4.  往下拉，PSI 會提供非常詳細的「診斷」建議，例如「應縮減圖片大小」、「移除未使用的 JavaScript」等。這就是我們接下來要優化的依據。

``

---

### Part 2: Core Web Vitals 優化實戰清單

現在，我們拿著 PSI 的診斷報告，開始使用 Moksa 技術棧的工具來逐一擊破問題。

#### ✅ LCP (最大內容繪製) 優化清單

LCP 過慢通常與**檔案太大**或**伺服器反應慢**有關。

*   **[ ] 1. 極致壓縮圖片 (ShortPixel)**
    *   **問題**：LCP 元素通常是頁面頂部的大圖 (Banner)。未經壓縮的圖片是 LCP 的頭號殺手。
    *   **解決方案**：確保你已安裝並啟用 **ShortPixel** 外掛。
    *   **操作**：
        1.  前往「設定」>「ShortPixel」，確認「壓縮層級」至少為「**有失真 (Glossy)**」。
        2.  在「進階」分頁中，勾選「**建立 WebP 版本的圖片**」和「**傳送 WebP 圖片**」。WebP 是 Google 開發的現代化圖片格式，檔案更小，品質更高。
        3.  前往「媒體」>「大量 ShortPixel 處理」，執行一次全站圖片壓縮。
    *   **Moksa 技巧**：對於已經上傳的圖片，這個「大量處理」步驟至關重要。

*   **[ ] 2. 啟用頁面快取 (WP Rocket)**
    *   **問題**：每次有人訪問你的網站，WordPress 都需要動態生成頁面，這會耗費伺服器資源和時間 (TTFB, Time to First Byte)。
    *   **解決方案**：**WP Rocket** 會預先生成靜態 HTML 檔案，當使用者來訪時，直接提供這個檔案，速度極快。
    *   **操作**：安裝並啟用 WP Rocket 後，前往「設定」>「WP Rocket」>「快取」，確保「**為行動裝置啟用快取**」是打勾的。基本上，WP Rocket 一啟用，最重要的快取功能就自動生效了。

*   **[ ] 3. 檔案最佳化 (WP Rocket)**
    *   **問題**：佈景主題和外掛會載入大量的 CSS 和 JavaScript 檔案，過多的檔案請求會拖慢載入速度。
    *   **解決方案**：使用 WP Rocket 將這些檔案合併、壓縮。
    *   **操作**：
        1.  前往「檔案最佳化」分頁。
        2.  勾選「**壓縮 CSS 檔案**」和「**壓縮 JavaScript 檔案**」。
        3.  **Moksa 技巧**：**「最佳化 CSS 傳送」** 中的「**移除未使用的 CSS**」功能非常強大，但請務必在啟用後仔細測試網站前端，確保沒有版面跑掉。

*   **[ ] 4. 預先載入關鍵資源 (WP Rocket)**
    *   **問題**：瀏覽器需要先下載 HTML，再解析，才知道還需要下載哪些 CSS、字體或 LCP 圖片。這個過程有先後順序。
    *   **解決方案**：我們可以「偷跑」，提前告訴瀏覽器：「這個資源很重要，請優先下載！」
    *   **操作**：
        1.  使用 PageSpeed Insights 分析你的頁面，在「診斷」區域找到「預先載入 LCP 元素使用的圖片」。
        2.  PSI 會直接告訴你 LCP 圖片的 URL。
        3.  複製這個 URL。
        4.  回到 WP Rocket 設定 >「預先載入」>「**預先載入圖片**」，將 URL 貼上即可。

``

#### ✅ INP (下次繪製互動) 優化清單

INP 過高幾乎都和 **JavaScript 執行過多**有關。當瀏覽器忙於執行 JS 時，就沒空回應你的點擊。

*   **[ ] 1. 延遲執行 JavaScript (WP Rocket)**
    *   **問題**：許多 JS 在頁面載入時並非必要，例如：聊天室窗、Facebook Pixel、廣告代碼。它們會阻塞主執行緒，導致頁面無法互動。
    *   **解決方案**：這是優化 INP **最有效**的一招。讓這些非必要的 JS 等到使用者產生第一次互動 (如滾動、點擊) 後再載入。
    *   **操作**：
        1.  前往 WP Rocket「檔案最佳化」分頁。
        2.  找到「JavaScript 檔案」區塊。
        3.  勾選「**延遲載入 JavaScript**」和「**延遲執行 JavaScript**」。
        4.  **Moksa 技巧**：**「延遲執行 JavaScript」** 是關鍵。啟用後，絕大多數 JS 都會被延遲。如果發現某些功能（如選單、輪播圖）壞了，你需要將該功能對應的 JS 檔案路徑，填入下方的「要排除的 JavaScript 檔案」欄位中。

*   **[ ] 2. (開發者角度) 審視你的程式碼**
    *   **問題**：如果你自己開發了外掛或主題功能，要避免撰寫長時間執行的 JS 程式碼。
    *   **解決方案**：
        *   將複雜的運算拆分成小塊，使用 `setTimeout` 或 `requestAnimationFrame` 釋放主執行緒。
        *   避免在事件監聽器（如 `scroll`, `mousemove`）中放置繁重的計算，善用 Debounce 或 Throttle 技術。
        *   如果你使用了 jQuery，審視是否有更高效能的原生 JS 寫法可以替代。

#### ✅ CLS (累計版面配置位移) 優化清單

CLS 問題來自於**載入過程中元素的尺寸或位置發生變化**。

*   **[ ] 1. 為圖片和 iFrame 指定尺寸**
    *   **問題**：如果 HTML 中的 `<img>` 標籤沒有 `width` 和 `height` 屬性，瀏覽器一開始不知道要留多大的空間給它。等圖片下載完畢，突然撐開空間，就會造成下方的內容被推擠。
    *   **解決方案**：
        *   幸運的是，從 WordPress 5.5 開始，系統會自動為圖片加上寬高屬性。
        *   在使用 **Kadence Blocks** 或 **Elementor** 插入圖片時，它們也會自動處理好這件事。
        *   **Moksa 技巧**：你需要特別留意的是**手動撰寫 HTML** 的地方，例如在「自訂 HTML」區塊中。請務必為你的 `<img>` 和 `<iframe>` 標籤加上明確的 `width` 和 `height` 屬性。

*   **[ ] 2. 處理網頁字體造成的版面位移 (FOIT/FOUT)**
    *   **問題**：當你使用非系統預設的網頁字體（如 Google Fonts）時，瀏覽器會先用預設字體渲染文字，等你的客製字體下載完畢後再替換掉。這個替換過程可能因字體大小不同而導致版面跳動。
    *   **解決方案**：
        1.  **WP Rocket**：「檔案最佳化」>「字型」>「**最佳化 Google Fonts**」，這會將它們合併並在本機提供。
        2.  **Moksa 技巧**：在 CSS 中使用 `font-display: swap;` 屬性。這個屬性告訴瀏覽器，在自訂字體載入期間可以先用後備字體顯示，載入完成後再「交換」。這雖然不能完全消除位移，但可以大幅縮短文字隱形的時間，是 Google 推薦的最佳實踐。**Kadence Theme** 在內建的字體載入選項中已經幫你處理好了這點。

``

*   **[ ] 3. 為動態內容預留空間**
    *   **問題**：例如，一個Cookie同意橫幅、一個延遲載入的廣告，或是一個 AJAX 載入的商品列表。它們在頁面初始載入時不存在，稍後才插入到 DOM 中，導致版面移動。
    *   **解決方案**：在它們即將出現的位置，先用 CSS 設定一個容器，並給予固定的 `min-height`，為它們「佔位」。

---

### 結論與持續監控

恭喜你！你已經掌握了技術性 SEO 中最重要的 Core Web Vitals 優化清單。

請記住幾個關鍵心法：

1.  **這不是一次性的工作**：每次你安裝新外掛、更換佈景主題或新增複雜功能時，都可能影響網站效能。你需要定期（例如每月）回到 Google Search Console 和 PageSpeed Insights 檢查報告。
2.  **工具是你的得力助手**：Moksa 技術棧中的 **WP Rocket**、**ShortPixel** 和 **Rank Math** 已經為你解決了 90% 的常見技術性 SEO 問題。學會善用它們的設定，遠比你自己從零開始造輪子更有效率。
3.  **使用者體驗為王**：技術性 SEO 和 Core Web Vitals 的最終目標，不是為了討好機器人，而是為了給真實的使用者一個快速、穩定、流暢的瀏覽體驗。始終將使用者放在第一位，你的 SEO 排名自然會水到渠成。

在下一個章節，我們將探討更多與 Rank Math 相關的進階 SEO 設定。