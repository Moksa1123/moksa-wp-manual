# 10.01 (觀念) AI 輔助開發的正確心態 (您是「指揮官」)

歡迎來到課程的全新篇章。在這個單元，我們將探討一個現代 WordPress 開發者不可或缺的技能：如何有效地利用人工智慧 (AI) 來輔助我們的開發工作。

隨著 ChatGPT, GitHub Copilot 等大型語言模型 (LLM) 的興起，開發的樣貌正在快速改變。許多人擔心 AI 會取代開發者，但在 Moksa，我們不這麼認為。我們相信，**AI 不是來取代您的，而是來賦予您更強大的力量**。

要駕馭這股力量，您必須建立一個正確的心態：**您是「指揮官」，AI 是您手下最得力、速度最快的「特種兵」。**

指揮官負責制定戰略、下達指令、評估戰果並承擔最終責任。特種兵則依據指令，精準、快速地完成單點任務。如果您將角色對調，讓 AI 成為指揮官，您很快就會發現專案將會走向失控與災難。

本章節將幫助您建立身為「指揮官」的四個核心原則。

---

### 原則一：您是「需求定義者」與「最終決策者」

AI 無法理解客戶的商業邏輯、公司的長期願景，也無法體會使用者的真實感受。它只是一個基於龐大數據訓練出來的模式識別與生成引擎。

因此，您的第一個核心職責，就是將模糊的商業需求，轉化為**清晰、明確、可執行的技術指令**。

*   **糟糕的指令 (讓 AI 當指揮官):** 「幫我做一個給 WooCommerce 用的運費外掛。」
    *   *結果：AI 會給你一段通用、不知所云、甚至可能有問題的程式碼，完全無法滿足客戶真正的需求（例如：滿額免運、區域運費、貨到付款加價等）。*
*   **好的指令 (您是稱職的指揮官):** 「請為 WooCommerce 撰寫一段 PHP 程式碼。當購物車內商品總金額低於新台幣 2000 元時，新增一個名為『基本運費』的選項，費用為 120 元；如果總金額等於或超過 2000 元，則提供一個名為『免運費』的選項，費用為 0 元。請確保這段邏輯能掛載到 `woocommerce_package_rates` 這個 filter hook 上。」
    *   *結果：AI 將能精準地提供一段幾乎可直接使用的程式碼片段。*

``
*圖片註解：一個流程圖，顯示「商業需求」->「指揮官 (您) 進行分析與拆解」->「精準的技術指令 (Prompt)」->「AI 特種兵」->「程式碼雛形」。*
``

**Moksa 技巧：** 學習使用 BDD (行為驅動開發) 的 Gherkin 語法來建構您的 Prompt，例如：「**假設 (Given)** 我是一個網站訪客，**當 (When)** 我將商品加入購物車且總金額超過 2000 元，**那麼 (Then)** 我應該能在結帳頁面看到一個 0 元的免運費選項。」這種結構化的語言能幫助 AI 更準確地理解您的意圖。

最終，AI 產出的任何程式碼，都必須由您這位指揮官來進行 **Code Review (程式碼審查)**、**測試**與**最終決策**。絕對不能盲目地複製貼上。

### 原則二：AI 是您的「副駕駛」，不是「自動駕駛」

一個優秀的飛行員會利用副駕駛來分擔工作、交叉檢查，但絕不會在飛行途中睡覺，讓副駕駛全權處理。在開發中，這個道理同樣適用。

將 AI 定位為您的副駕駛，讓它處理那些重複、有固定模式、但又耗時的任務：

*   **產生樣板程式碼 (Boilerplate):**
    *   「幫我產生一個註冊 WordPress Custom Post Type (CPT) 的基本 `register_post_type` 函式，CPT 的 slug 是 `moksa_project`。」
    *   「請提供一個建立 WooCommerce 後台設定頁面的基礎類別 (Class) 結構。」
    *   「寫一個 Gutenberg Block 的 `block.json` 檔案範本。」
*   **程式碼重構 (Refactoring):**
    *   「請將這段巢狀的 `if-else` 邏輯，改寫成更簡潔、可讀性更高的 `switch` 寫法。」
    *   「分析我這段 PHP 函式，並依照 WordPress Coding Standards (WordPress 程式碼標準) 進行格式化與註解。」
*   **除錯輔助 (Debugging):**
    *   「我在 WordPress 中遇到了這個 PHP 錯誤：`[貼上錯誤訊息]`。這是相關的程式碼：`[貼上程式碼]`。請分析可能的原因是什麼？」
*   **學習與探索:**
    *   「請用一個簡單的例子，解釋 WordPress 的 `actions` 和 `filters` 有什麼不同？」
    *   「如何使用 `WP_Query` 來查詢所有屬於 `product` 這個 CPT、且自訂欄位 `featured` 值為 `true` 的文章？」

**Moksa 技巧：** GitHub Copilot 這類工具，在你使用 VS Code 開發時，就像一個如影隨形的副駕駛。它會根據你當前的程式碼上下文，自動提示接下來可能的程式碼。這在撰寫重複性高的程式碼（如 ACF 欄位陣列、表單欄位）時，能大幅提升效率。

``
*圖片註解：VS Code 編輯器畫面，GitHub Copilot 自動提示完成一段 `register_post_type` 的參數陣列。*
``

### 原則三：垃圾進，垃圾出 (Garbage In, Garbage Out)

這是電腦科學領域的一句至理名言，在 AI 時代尤其重要。**AI 回應的品質，完全取決於您問題 (Prompt) 的品質。**

身為指揮官，您下達的指令必須包含足夠的**上下文 (Context)**。

*   **缺乏上下文的指令:** 「幫我寫個 WooCommerce 付款的程式。」
*   **包含豐富上下文的指令:** 「我正在整合**綠界 ECPay** 的信用卡一次性付款 API。我需要撰寫一個 PHP 函式，它接收一個 WooCommerce 的訂單 ID (`$order_id`) 作為參數。在這個函式裡，請幫我：
    1.  使用 `wc_get_order` 取得訂單物件。
    2.  從訂單物件中取得**總金額**、**訂單編號**、**商品名稱** (如果有多個商品，請用 `#` 串接)。
    3.  將這些資料組成一個陣列，準備發送到綠界的 API。
    4.  陣列的 Key 請參考綠界官方文件命名：`TotalAmount`, `MerchantTradeNo`, `ItemName`。
    5.  最後，幫我加上檢查，確保 `$order_id` 是一個有效的訂單。」

提供越多細節，例如：**使用的平台 (WordPress/WooCommerce)、相關的外掛 (ECPay/ACF)、具體的函式名稱 (`wc_get_order`)、目標 (組成陣列)、資料結構 (Key 的名稱)**，AI 就越能給出符合您期望的答案。

### 原則四：永遠保持懷疑與驗證的態度

AI 有時會產生「幻覺 (Hallucination)」。它可能會一本正經地創造出不存在的 WordPress 函式、使用已經被棄用的舊語法，甚至在程式碼中引入微妙的**效能瓶頸**或**安全漏洞**。

您的最後一項、也是最重要的職責，就是**驗證**。

1.  **功能驗證：** 在您的 **LocalWP** 開發環境中實際執行看看，功能是否如預期？
2.  **效能驗證：** 使用 **Query Monitor** 檢查 AI 產生的資料庫查詢是否有效率？有沒有造成 N+1 Query 問題？
3.  **安全驗證：** AI 產生的程式碼是否有對使用者的輸入進行適當的**清理 (Sanitization)** 與**跳脫 (Escaping)**？例如，使用 `sanitize_text_field()` 處理輸入，使用 `esc_html()` 或 `esc_attr()` 處理輸出。
4.  **標準驗證：** 程式碼是否符合 **WordPress Coding Standards**？可讀性與可維護性如何？
5.  **事實查核：** 當 AI 提到某個函式或 API 時，花點時間去 [WordPress 官方開發者文件](https://developer.wordpress.org/) 或相關外掛的官方文件查證一下，確認用法是否正確、是否為最新版本。

**Moksa 技巧：** 將 AI 視為一個「非同步的資深同事」。您把問題拋給他，他很快給了你一個解決方案。但您仍然需要像對待同事的 Pull Request 一樣，仔細地審查每一行程式碼，然後才將其合併 (Merge) 到您的專案中。

---

### 結論

AI 是一個劃時代的工具，它能將您從繁瑣的樣板程式碼中解放出來，讓您能更專注於**架構設計、使用者體驗、複雜的商業邏輯**等更具創造性與價值的工作上。

請記住，您是專案的「指揮官」。您的價值不在於寫出多少行程式碼，而在於您**定義問題、拆解任務、整合資源、確保品質**的綜合能力。

從今天起，練習用指揮官的思維來駕馭 AI，讓它成為您在 WordPress 開發戰場上，最強大的盟友。