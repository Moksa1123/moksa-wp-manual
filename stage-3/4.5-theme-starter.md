```markdown
# 04.05 (實作) 打造一個「基本款」佈景主題 (Underscores, _s)

嗨，歡迎來到佈景主題開發的實作單元！在前面的章節中，我們討論了 WordPress 佈景主題的原理與檔案結構。現在，我們要捲起袖子，從零開始打造一個屬於我們自己的佈景主題。

不過，所謂的「從零開始」並不是真的要我們一個個手動建立 `index.php`、`style.css` 等檔案。在現代化的開發流程中，我們會使用「**入門版佈景主題 (Starter Theme)**」作為基礎。這能幫我們省下大量重複性的設定工作，並確保我們的佈景主題一開始就遵循 WordPress 的官方開發規範。

在這個單元，我們將使用由 WordPress 母公司 Automattic 團隊所維護的官方入門版佈景主題：**Underscores (簡稱 _s)**。

**Underscores 的優點：**
*   **極簡乾淨：** 它只包含了最核心的模板檔案與最基礎的 CSS，沒有任何多餘的設計或功能，給予開發者最大的自由度。
*   **遵循官方規範：** 程式碼結構、命名方式、安全性處理都符合 WordPress 的最佳實踐。
*   **註解詳盡：** 程式碼中有大量的註解，對於初學者來說是非常好的學習教材。
*   **現代化開發：** 模板結構清晰，易於維護與擴充。

準備好了嗎？讓我們開始打造我們的第一個客製化佈景主題吧！

---

### 前置準備

在開始之前，請確保你已經準備好以下開發環境：

1.  **本機開發環境：** 推薦使用 **LocalWP** 建立一個乾淨的 WordPress 網站。
2.  **程式碼編輯器：** 推薦使用 **VS Code**。

---

### 步驟 1：從 `underscores.me` 產生你的佈景主題

Underscores 提供了一個非常方便的線上產生器，讓我們可以快速客製化佈景主題的基本資訊。

1.  請用瀏覽器開啟官方網站：[https://underscores.me/](https://underscores.me/)

    `[截圖：underscores.me 網站首頁介面]`

2.  在頁面上，你會看到一個「**THEME NAME**」的輸入框。請在這裡輸入你的佈景主題名稱，例如 `Moksa Starter Theme`。

3.  點擊右側的「**ADVANCED OPTIONS**」展開進階設定。這一步**非常重要**，它決定了你的佈景主題在程式碼中的各種識別名稱。

    `[截圖：展開 ADVANCED OPTIONS 後的畫面]`

    *   **Theme Slug (佈景主題代稱):** 這是你佈景主題的資料夾名稱，以及在程式碼中使用的函式前綴。**必須**使用全小寫英文，並用底線 `_` 或連字號 `-` 分隔單字。例如：`moksa_starter_theme`。
    *   **Author (作者):** 輸入你的名字或公司名稱。例如：`Moksa`。
    *   **Author URI (作者網址):** 輸入你的個人網站或公司網址。例如：`https://moksaweb.com`。
    *   **Description (描述):** 簡單描述這個佈景主題的用途。例如：`A starter theme for MoksaWP development course.`。
    *   **Sassify? (使用 Sass):** 如果你熟悉 Sass/SCSS，可以勾選此項。它會將 CSS 檔案轉換為 `.scss` 格式，方便後續的樣式管理。對於本課程，我們**建議勾選**。

4.  確認所有資訊都填寫正確後，點擊橘色的「**GENERATE**」按鈕。瀏覽器會自動下載一個以你的「Theme Slug」命名的 `.zip` 壓縮檔（例如：`moksa_starter_theme.zip`）。

### 步驟 2：安裝並啟用你的新佈景主題

現在我們已經有了佈景主題的檔案，接下來要把它安裝到我們的 WordPress 網站中。

1.  登入你的 LocalWP 網站的 WordPress 後台。
2.  在左側選單中，找到「**外觀**」>「**佈景主題**」。
3.  點擊頁面上方的「**安裝佈景主題**」按鈕，然後再點擊「**上傳佈景主題**」。
4.  點擊「**選擇檔案**」，並選取你剛剛從 `underscores.me` 下載的那個 `.zip` 檔。
5.  點擊「**立即安裝**」。
6.  安裝完成後，點擊「**啟用**」連結。

    `[截圖：佈景主題列表頁面，顯示已成功啟用我們的新佈景主題]`

7.  現在，回到你的網站前台重新整理頁面。你會發現網站的樣貌變得非常樸素，幾乎沒有任何樣式。**別擔心，這很正常！** 這正是 Underscores 的特色——它只提供骨架，血肉和外觀需要我們自己來填滿。

    `[截圖：啟用 _s 佈景主題後的網站前台畫面，非常樸素]`

### 步驟 3：用 VS Code 探索佈景主題檔案結構

接下來，讓我們看看這個佈景主題的內部結構。

1.  打開 LocalWP，找到你的網站，點擊「**Go to site folder**」按鈕，這會用檔案總管開啟你的網站根目錄。

    `[截圖：LocalWP 介面，標示出 Go to site folder 按鈕]`

2.  進入 `app/public/wp-content/themes/`，你會看到一個以你的「Theme Slug」命名的資料夾（例如：`moksa_starter_theme`）。
3.  使用 VS Code 開啟這個資料夾。

    `[截圖：VS Code 側邊欄顯示 _s 佈景主題的完整檔案結構]`

你會看到許多 PHP 和 CSS 檔案。以下是幾個現階段你**必須認識的核心檔案**：

*   `style.css`: 這是佈景主題的「**身分證**」。檔案最上方的註解區塊定義了佈景主題的名稱、作者、版本等資訊。WordPress 就是透過讀取這個檔案來識別佈景主題的。
*   `functions.php`: 這是佈景主題的「**大腦**」。所有客製化的功能、載入的 CSS/JS 檔案、註冊選單或側邊欄位置等，都會寫在這裡。
*   `index.php`: **預設的模板檔案**。如果 WordPress 找不到更精確的模板（例如 `single.php` 或 `page.php`），最後都會使用 `index.php` 來呈現頁面。
*   `header.php`: 網站的「**頭部**」。包含了 `<html>`、`<head>` 標籤、網站標題、主選單等。
*   `footer.php`: 網站的「**腳部**」。通常包含頁尾資訊、版權聲明、以及 `wp_footer()` 函式。
*   `/template-parts/`: 這個資料夾很重要，它體現了**模板化**的概念。Underscores 會把頁面中重複使用的區塊（例如文章內容的顯示格式）拆分成獨立的檔案放在這裡，讓主模板檔案（如 `index.php`）保持乾淨，易於閱讀和維護。

### 步驟 4：進行你的第一個修改

為了確認我們能夠控制這個佈景主題，讓我們來做一個最簡單的修改：更改頁尾的版權文字。

1.  在 VS Code 中，打開 `footer.php` 檔案。
2.  捲動到檔案的底部，你會看到類似下面這段的程式碼：

    ```php
    <div class="site-info">
        <a href="<?php echo esc_url( __( 'https://wordpress.org/', 'moksa_starter_theme' ) ); ?>">
            <?php
            /* translators: %s: CMS name, i.e. WordPress. */
            printf( esc_html__( 'Proudly powered by %s', 'moksa_starter_theme' ), 'WordPress' );
            ?>
        </a>
        <span class="sep"> | </span>
            <?php
            /* translators: 1: Theme name, 2: Theme author. */
            printf( esc_html__( 'Theme: %1$s by %2$s.', 'moksa_starter_theme' ), 'moksa_starter_theme', '<a href="https://moksaweb.com">Moksa</a>' );
            ?>
    </div><!-- .site-info -->
    ```

3.  這段程式碼看起來有點複雜，因為它使用了 WordPress 的翻譯函式。我們先不用管那麼多，直接把它們**全部刪除**，並替換成我們自己的 HTML 內容。例如：

    ```php
    <div class="site-info">
        &copy; <?php echo date('Y'); ?> MoksaWP 開發課程. All Rights Reserved.
    </div><!-- .site-info -->
    ```
    *   `<?php echo date('Y'); ?>` 是一段簡單的 PHP 程式碼，它的作用是自動抓取當前的年份。

4.  儲存 `footer.php` 檔案。
5.  回到你的網站前台，重新整理頁面。

    `[截圖：網站前台頁尾，顯示已成功修改為 "© 2024 MoksaWP 開發課程. All Rights Reserved."]`

    **Moksa 技巧：** 如果你沒有看到變更，請嘗試使用「**強制重新整理**」(Hard Refresh) 來清除瀏覽器快取。Windows/Linux 的快捷鍵是 `Ctrl + F5` 或 `Ctrl + Shift + R`，Mac 是 `Cmd + Shift + R`。

---

### 總結

**恭喜你！** 你已經成功地：
1.  使用 Underscores 產生器建立了一個符合 WordPress 官方規範的入門版佈景主題。
2.  將這個佈景主題安裝並啟用在你的 WordPress 網站上。
3.  了解了佈景主題的核心檔案結構。
4.  完成了你的第一個程式碼修改，並成功地顯示在前台。

你現在擁有了一片乾淨的畫布。接下來的課程，我們將會在這塊畫布上，一步步地加上色彩與功能，學習如何用 CSS 美化它、如何建立自訂的頁面模板、以及如何用 `functions.php` 來擴充它的功能。
```