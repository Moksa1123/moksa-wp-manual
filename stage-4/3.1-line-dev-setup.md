# 03.01 LINE Developers 帳號設定與 Messaging API 啟用

嗨，歡迎來到 n8n 與 WordPress 協作的實戰課程！

在我們能透過 n8n 或 WordPress 外掛（例如 OrderChatz、Order Notify）來串接 LINE、發送訂單通知或建立客服機器人之前，我們必須先完成最基礎也是最重要的一步：**建立一個 LINE 官方的開發者帳號，並啟用 Messaging API 功能**。

這堂課的目標，就是要帶你從零開始，一步步完成所有 LINE Developers 後台的設定，並取得後續串接時必要的 **3 把關鍵鑰匙**：

1.  **Channel ID (通道 ID)**
2.  **Channel Secret (通道密鑰)**
3.  **Channel Access Token (長期存取權杖)**

準備好了嗎？讓我們開始吧！

---

### 前置準備：你需要什麼？

*   一個有效的 LINE 帳號 (建議使用公司或團隊的公用帳號，而非個人帳號，方便未來管理權限轉移)。
*   你的品牌或網站 Logo (非必要，但建議準備)。

---

### 步驟 1：註冊與登入 LINE Developers 平台

首先，我們需要進入 LINE 的開發者後台。

1.  請打開瀏覽器，前往 [LINE Developers Console](https://developers.line.biz/console/)。
2.  點擊頁面上的「Log in」按鈕。
3.  你可以選擇「使用LINE帳號登入」或「使用商業帳號登入」。對於大多數使用者來說，直接使用你常用的 LINE 帳號掃碼登入即可。

``

**Moksa 技巧：** 如果你是為公司或客戶設定，強烈建議**另外註冊一個專門用於業務的 LINE 帳號**來登入。這樣可以避免未來人員離職時，管理權限跟著個人帳號一起帶走，造成維護上的困難。

---

### 步驟 2：建立 Provider (服務提供者)

登入後，你會看到 LINE Developers 的主控台。在我們建立一個真正的「LINE 官方帳號 (Channel)」之前，要先建立一個「Provider」。

**重要觀念：**
*   **Provider (服務提供者):** 通常代表你的**公司**、**品牌**或**組織**。一個 Provider 底下可以擁有多個不同的 Channel。
*   **Channel (通道):** 代表一個具體的服務，例如：「Moksa 線上客服」、「Moksa 訂單通知」。我們這堂課要建立的就是一個用於 Messaging API 的 Channel。

讓我們來建立 Provider：

1.  在主控台畫面，點擊「Create a new provider」按鈕。
2.  在 **Provider name** 欄位中，輸入你的公司或品牌名稱，例如：「Moksa 網路商城」。
3.  點擊「Create」。

``

建立成功後，你就會被引導至該 Provider 的管理頁面。

---

### 步驟 3：建立 Channel (通訊管道) 並啟用 Messaging API

Provider 建立好了，接下來就是重頭戲：建立一個可以用來收發訊息的 Channel。

1.  在你的 Provider 頁面中，點擊「Create a new channel」。

``

2.  在「Select a channel type」中，**請務必選擇「Messaging API」**。這是唯一能讓我們透過程式 (如 n8n 或 WordPress) 發送訊息的選項。

``

3.  接著，你需要填寫這個 Channel 的詳細資訊：
    *   **Channel type:** 確認為 `Messaging API`。
    *   **Provider:** 確認為你剛剛建立的 Provider 名稱。
    *   **Company or owner's country or region:** 選擇 `Taiwan`。
    *   **Channel icon (optional):** 上傳你的品牌 Logo。
    *   **Channel name:** **必填**。這是你的 LINE 官方帳號顯示給使用者看的名稱，例如「Moksa 客服小幫手」。
    *   **Channel description:** **必填**。簡單描述這個帳號的用途，例如「提供訂單狀態通知與線上即時客服」。
    *   **Category:** **必填**。選擇最符合你產業的類別。
    *   **Subcategory:** **必填**。選擇次類別。
    *   **Email address:** **必填**。輸入一個能收到 LINE 官方通知的 Email。
    *   **Privacy policy URL (optional):** 建議填寫你網站的隱私權政策頁面網址。
    *   **Terms of use URL (optional):** 建議填寫你網站的服務條款頁面網址。

``

4.  勾選所有「I have read and agree to...」的同意條款。
5.  點擊「Create」按鈕。
6.  系統會再次跳出視窗請你確認，點擊「OK」。

恭喜你！你的 Messaging API Channel 已經成功建立了！

---

### 步驟 4：取得 API 串接所需的三把金鑰

Channel 建立後，頁面會自動跳轉到這個 Channel 的後台。我們的首要任務，就是把串接用的「金鑰」找出來並妥善保管。

**Moksa 技巧：** 這些金鑰就跟你的網站密碼一樣重要，**絕對不要外洩**給不相關的人員。

1.  **取得 Channel ID 與 Channel Secret**
    *   請點擊 Channel 後台最上方的「**Basic settings**」頁籤。
    *   往下滑動，你就可以找到「**Channel ID**」和「**Channel secret**」。請先將這兩組資訊複製下來，貼到你的記事本或密碼管理工具中。

    ``

2.  **取得 Channel Access Token (Long-lived)**
    *   接著，請點擊「**Messaging API**」頁籤。
    *   往下滑動到頁面最底部，你會看到一個叫做「**Channel access token**」的區塊。
    *   預設情況下，這裡會是空的。請點擊右邊的「**Issue**」按鈕。

    ``

    *   點擊後，系統就會產生一長串的亂數字元。這就是我們的第三把、也是最重要的鑰匙：「**長期存取權杖 (Channel access token)**」。
    *   **重要觀念：** 這個 Token 就是 n8n 或 WordPress 用來向 LINE 伺服器證明「我是合法的，請幫我發送訊息」的身份憑證。
    *   請立刻將這組 Token 完整複製下來，跟剛剛的 ID 和 Secret 一起儲存好。

---

### 步驟 5：完成 Webhook 與好友設定

金鑰都拿到了，還差最後幾個小設定就大功告成。

1.  **啟用 Webhooks**
    *   同樣在「**Messaging API**」這個頁籤中，往上找到「**Webhook settings**」區塊。
    *   點擊「**Webhook URL**」下方的「**Edit**」按鈕。
    *   將「**Use webhook**」這個選項從 `Disabled` 切換為 `Enabled`。
    *   **重要觀念：** Webhook 是什麼？簡單來說，它是 LINE 主動通知我們「有事件發生了」的機制。例如：當有使用者傳訊息給你的官方帳號時，LINE 就會透過 Webhook 通知你的 n8n 或 WordPress。**這個開關必須打開，雙向溝通才能運作**。
    *   目前 Webhook URL 欄位可以先留空，後續章節設定 n8n 時我們才會回來填寫。
    *   點擊「Update」儲存。

    ``

2.  **掃描 QR Code 加入好友**
    *   在「**Messaging API**」頁籤的最上方，你會看到這個官方帳號的 **QR Code**。
    *   現在，請拿出你的手機，打開 LINE App，掃描這個 QR Code，並將你剛剛建立的官方帳號加為好友。
    *   這個步驟是為了方便我們在後續課程中，可以直接用自己的手機測試訊息發送是否成功。

    ``

---

### 課程總結

太棒了！在本堂課程中，我們已經完成了所有在 LINE Developers 平台上的前置作業。

請再次確認，你手上已經有這三項重要的資訊：
*   ✅ **Channel ID**
*   ✅ **Channel Secret**
*   ✅ **Channel Access Token**

有了這三把金鑰，我們就具備了打通 WordPress/WooCommerce 與 LINE 之間任督二脈的基礎。在接下來的課程中，我們將會實際應用這些金鑰，開始在 n8n 中建立你的第一個自動化工作流程！