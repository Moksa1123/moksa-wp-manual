# 12.03 (實作) 啟用「電子商務」追蹤

嗨，我是 Moksa 的首席課程導師。

在前面的章節中，我們已經學會了如何建立商品、設定金物流，讓網站具備了完整的銷售功能。但是，光是能賣東西還不夠，**身為一個專業的電商營運者，你必須要能「衡量」成效**。

你投入的廣告費有沒有帶來訂單？哪個行銷活動效果最好？顧客最喜歡瀏覽哪些商品？他們在哪個步驟放棄了購物車？

要回答這些問題，我們就必須為網站安裝數據追蹤的「大腦」—— **Google Analytics 4 (GA4)**，並啟用它最強大的功能之一：「**增強型電子商務 (Enhanced Ecommerce) 追蹤**」。

這堂課，我們將一步步帶你完成設定，讓你從今天起，就能用數據做出更聰明的商業決策。

---

### 學習目標

*   了解什麼是增強型電子商務追蹤及其重要性。
*   學會如何從 Google Analytics 4 取得「評估 ID」。
*   使用 **Rank Math SEO** 外掛，無需撰寫任何程式碼，即可輕鬆串接 GA4。
*   成功啟用 WooCommerce 的增強型電子商務追蹤功能。
*   學會如何初步驗證追蹤碼是否安裝成功。

### 前置作業

在開始之前，請確保你已經完成以下事項：

1.  擁有一個 Google 帳戶 (Gmail 帳號即可)。
2.  已經前往 [Google Analytics 官網](https://analytics.google.com/) 建立好一個 **GA4 資源 (Property)**。如果你還沒有，請先建立一個。Google 的引導流程相當清晰，只需跟著步驟填寫網站資訊即可。

---

### 步驟 1：取得你的 GA4 「評估 ID (Measurement ID)」

「評估 ID」就像是你的 GA4 資源的身分證字號，我們需要把這個 ID 告訴 WordPress，這樣 Google 才能知道要把網站數據送到哪個帳戶裡。

1.  登入你的 [Google Analytics](https://analytics.google.com/) 帳戶。
2.  點擊左下角的「**管理**」(齒輪圖示)。
``
3.  在「資源」欄位中，確認你選擇的是正確的 GA4 資源，然後點擊「**資料串流**」。
``
4.  點擊你為網站建立的那個資料串流 (通常只有一個)。
``
5.  在右上角，你會看到一個 `G-` 開頭的 ID，這就是你的「**評估 ID**」。請點擊旁邊的複製圖示，將它複製下來。我們下一步馬上會用到。
``

### 步驟 2：透過 Rank Math SEO 串接 GA4

在 Moksa 的技術棧中，我們推薦使用 **Rank Math SEO** 來處理這項任務。為什麼呢？

> **Moksa 技巧：** Rank Math 不僅僅是個強大的 SEO 外掛，它還內建了與 Google Analytics 和 Google Search Console 的串接功能。使用它來安裝追蹤碼有兩大好處：
> 1.  **減少外掛數量**：你不需要再額外安裝一個專門用來埋設追蹤碼的外掛，有助於網站效能。
> 2.  **深度整合**：它能自動偵測到你的網站正在使用 WooCommerce，並提供一鍵啟用的「增強型電子商務」追蹤開關，極大地簡化了設定流程。

現在，讓我們開始設定吧！

1.  回到你的 WordPress 控制台，前往「**Rank Math**」>「**一般設定**」。
``
2.  在左側的頁籤中，點擊「**Analytics (分析)**」。
``
3.  你會看到 Google Analytics 的設定區塊。首先，將我們在**步驟 1** 複製的「**評估 ID**」貼到「**Analytics Measurement ID**」欄位中。
4.  找到「**安裝 Analytics 程式碼**」這個選項，並**將其開啟**。這一步是授權 Rank Math 將 GA4 的追蹤碼自動安裝到你的網站所有頁面。
5.  往下捲動，你會看到一個非常重要的區塊：「**電子商務**」。
6.  找到「**電子商務追蹤**」這個選項，並**將其開啟**。
    *   開啟後，它會自動偵測到你的 WooCommerce 商店，並開始追蹤 `add_to_cart` (加入購物車)、`begin_checkout` (開始結帳) 等標準事件。
7.  接著，務必將「**Purchase Flag**」這個選項設定為你的 WooCommerce **「感謝頁面」或「訂單確認」頁面**。Rank Math 通常能自動抓到，但請再次確認。這能確保只有在顧客真正完成付款後，`purchase` (購買) 事件才會被觸發。
8.  最後，點擊最下方的「**儲存變更**」。
``

恭喜你！至此，你已經完成了所有技術設定。Rank Math 現在會自動在你的網站上部署 GA4 追蹤碼，並且會自動將商品瀏覽、加入購物車、結帳、完成購買等重要的電商數據傳送到你的 Google Analytics 帳戶。

### 步驟 3：驗證追蹤是否成功

設定完成後，最重要的就是要驗證它是否正常運作。我們可以使用 GA4 的「即時報表」來做個簡單的測試。

1.  回到你的 Google Analytics 帳戶。
2.  在左側選單，點擊「**報表**」>「**即時**」。
``
3.  另外開啟一個**新的瀏覽器視窗** (建議使用「無痕模式」以避免快取或登入狀態干擾)。
4.  在無痕視窗中，打開你的網站首頁，然後隨意瀏覽一個商品頁面、將商品加入購物車，甚至可以走完一次測試訂單的流程 (使用測試金流，例如「貨到付款」或「銀行轉帳」)。
5.  回到 GA4 的「即時」報表頁面。稍等 30 秒到 1 分鐘，你應該會看到：
    *   「使用者」地圖上出現你的地理位置。
    *   在下方的「事件計數」卡片中，陸續出現 `page_view` (瀏覽頁面)、`view_item` (查看商品)、`add_to_cart` (加入購物車)，以及最重要的 `purchase` (購買) 事件。
``

如果你能在即時報表中看到這些事件，特別是 `purchase` 事件，那就代表你的增強型電子商務追蹤已經成功啟用！

### 結論

數據追蹤是電商營運的基石。今天，你學會了如何透過 Moksa 推薦的標準流程 (使用 Rank Math)，為你的 WooCommerce 網站裝上了強大的數據追蹤引擎。

從現在開始，GA4 會 24 小時不間斷地為你收集寶貴的顧客行為數據。在後續的課程中，我們將會更深入地探討如何解讀這些報表，如何從數據中找出優化的機會點，進而提升你的網站轉換率與營業額。