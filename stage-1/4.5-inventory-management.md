# 4.5 (實務) 庫存管理 (單品 vs 全域)

大家好！歡迎來到 MoksaWP 網站營運實戰班。我是你的導師，在這堂課中，我們將深入探討 WooCommerce 中一個非常核心且重要的功能：**庫存管理**。

正確的庫存管理可以避免超賣的窘境、提升顧客的購物體驗，並幫助你更精準地掌握商品銷售狀況。WooCommerce 提供了兩個層級的庫存設定：「**全域設定 (Global Settings)**」和「**單品設定 (Product-level Settings)**」。理解這兩者的差異與協作方式，是身為專業電商站長的基本功。

接下來，我們將一步步拆解這兩種設定方式。

---

## 一、全域庫存設定 (Global Settings)

**全域設定**就像是你整個商店的「庫存管理總開關與預設規則」。在這裡設定的規則會套用到**所有**你新增的商品上，除非你稍後在「單品設定」中進行覆寫。

**步驟 1：前往 WooCommerce 設定**

*   從 WordPress 後台，前往左側選單的「**WooCommerce**」→「**設定 (Settings)**」。
*   點擊上方的「**商品 (Products)**」分頁。
*   再點擊下方的「**庫存 (Inventory)**」子分頁。

` `` `

**步驟 2：理解並設定全域選項**

在這裡，你會看到一系列控制整個商店庫存的選項：

*   **管理庫存 (Manage stock):**
    *   **`啟用庫存管理`**：**這是最重要的總開關**。你必須勾選此項，才能在商品層級追蹤庫存數量。如果你的商店完全不需要庫存管理 (例如：全部是虛擬服務或可下載商品)，則可以取消勾選。
    *   **Moksa 技巧：** 我們強烈建議**一律啟用**此功能。即使你賣的是服務，未來也可能新增實體周邊商品。先開啟這個選項，可以讓你的商店更具擴充性。

*   **保留庫存 (分鐘) (Hold stock (minutes)):**
    *   當顧客將商品加入購物車並進入結帳頁面，但尚未完成付款時，系統會為他們「預留」庫存。這裡設定的就是預留的時間。
    *   例如，設定為 `60` 分鐘，代表系統會為未付款的訂單保留庫存 60 分鐘，時間一到若仍未付款，訂單會被取消，庫存也會被釋出，讓其他顧客購買。

*   **通知 (Notifications):**
    *   `啟用低庫存通知`：當商品庫存達到你設定的「低庫存臨界值」時，系統會寄信通知你。
    *   `啟用缺貨通知`：當商品庫存歸零時，系統會寄信通知你。
    *   **Moksa 技巧：** 這兩個選項**務必勾選**，才能在商品快賣完時即時補貨。

*   **通知收件者 (Notification recipient(s)):**
    *   **必填欄位**。請填寫負責庫存管理的同仁或你自己的 Email 信箱，才能收到上述的低庫存/缺貨通知。可以填寫多個，用逗號 `,` 隔開。

*   **低庫存臨界值 (Low stock threshold):**
    *   預設為 `2`。意思是當任何商品的庫存數量降到 2 件 (或更少) 時，就會觸發「低庫存通知」。你可以根據商品的補貨週期來調整這個數字。

*   **缺貨臨界值 (Out of stock threshold):**
    *   預設為 `0`。意思是當庫存降到 0 時，商品狀態會自動變為「缺貨」。

*   **缺貨可見度 (Out of stock visibility):**
    *   `在目錄中隱藏缺貨商品`：勾選後，賣完的商品將不會出現在商店主頁或分類頁面中，但顧客仍然可以透過直接連結訪問商品頁。這有助於維持商店頁面的整潔。

*   **庫存顯示格式 (Stock display format):**
    *   你可以選擇在前端商品頁面如何顯示庫存狀態，例如「一律顯示庫存量 (例如：尚有 12 件庫存)」或「僅在低庫存時顯示數量 (例如：僅剩 2 件庫存)」。

設定完成後，記得點擊「**儲存設定 (Save changes)**」。

---

## 二、單品庫存設定 (Product-level Settings)

**單品設定**提供了更細緻的控制權，讓你可以針對**每一個獨立的商品**設定獨一無二的庫存規則。它會**覆寫 (Override)** 你在全域設定中的部分預設值。

**步驟 1：編輯單一商品**

*   從 WordPress 後台，前往「**商品 (Products)**」→「**所有商品 (All Products)**」。
*   選擇一個你想管理的商品，點擊「**編輯 (Edit)**」。

**步驟 2：找到「商品資料」區塊**

*   在商品編輯頁面中，向下滑動直到你看到「**商品資料 (Product data)**」的區塊。
*   確認商品類型是「**標準商品 (Simple product)**」。（可變商品我們會在後續章節討論）
*   點擊左側的「**庫存 (Inventory)**」分頁。

` `` `

**步驟 3：設定單品庫存選項**

這裡的選項是針對「這一個」商品生效的：

*   **SKU (單品庫存單位):**
    *   **SKU (Stock Keeping Unit)** 是商品的唯一識別碼，就像是商品的身分證。它可以是數字、字母或兩者的組合。
    *   **Moksa 技巧：** **強烈建議為每一個商品設定獨一無二的 SKU**。這不僅有助於你內部管理，未來若要串接 POS 系統、倉儲系統或是在其他平台上架，SKU 都是不可或缺的關鍵欄位。例如：`MOKSA-TSHIRT-RED-L`。

*   **管理庫存？(Manage stock?):**
    *   `在商品層級啟用庫存管理`：**這是單品庫存的開關**。
    *   **情境 1 (最常見):** 全域設定的「管理庫存」已啟用。那你**必須勾選此項**，才能輸入下面的「庫存數量」。
    *   **情境 2:** 如果這個特定商品是虛擬服務 (例如：一小時諮詢)，你就可以**取消勾選**此項，這樣它就不會被追蹤庫存，庫存狀態會由下方的「庫存狀態」手動決定。

*   **庫存數量 (Stock quantity):**
    *   **必填欄位** (當啟用庫存管理時)。直接輸入這個商品目前實際的庫存數量。例如 `100`。

*   **允許補貨？(Allow backorders?):**
    *   這是一個非常強大的功能，讓你決定商品賣完後該怎麼辦。
    *   `不允許 (Do not allow)`：預設值。庫存為 0 時，顧客無法下單。
    *   `允許，但需通知顧客 (Allow, but notify customer)`：庫存為 0 時，顧客**仍然可以下單**，但在商品頁和結帳頁會看到提示訊息（例如：可接受預購）。這適用於可以快速補貨的熱賣商品。
    *   `允許 (Allow)`：庫存為 0 時，顧客可以正常下單，且**不會**看到任何特別的提示。這通常用於虛擬商品或接單生產的商品。

*   **低庫存臨界值 (Low stock threshold):**
    *   你可以在這裡為這個特定商品設定一個**獨立的**低庫存通知門檻。例如，全域設定是 `2`，但這個商品補貨週期特別長，你可以為它單獨設定為 `10`。當庫存降到 10 時，你就會收到通知。

*   **庫存狀態 (Stock status):**
    *   當你不啟用「在商品層級啟用庫存管理」時，你就需要手動從 `尚有庫存 (In stock)`、`缺貨 (Out of stock)`、`可接受預購 (On backorder)` 中選擇一個狀態。
    *   當你啟用庫存管理時，這個狀態通常會由系統根據「庫存數量」自動更新。

設定完成後，記得點擊右上角的「**更新 (Update)**」按鈕來儲存商品。

---

## 三、總結與實務情境 (單品 vs 全域)

現在你已經了解了兩種設定方式，讓我們用一個簡單的表格和幾個情境來總結它們的關係。

| 功能層級 | 影響範圍 | 主要用途 | 範例 |
| :--- | :--- | :--- | :--- |
| **全域設定** | 整個商店 | 設定預設規則、總開關、通知 | 啟用庫存管理、設定低庫存通知信箱為 `stock@mystore.com` |
| **單品設定** | 單一商品 | 覆寫預設規則、管理獨立庫存 | 設定 A 商品的庫存為 50 件，並允許預購 |

---

**情境一：標準實體商品商店 (例如：服飾、文創小物)**

*   **你的策略：**
    1.  在「**全域設定**」中，**啟用庫存管理**，並設定好你的通知信箱與低庫存臨界值 (例如 `3`)。
    2.  對於**每一個實體商品**，都在「**單品設定**」中，**勾選 `管理庫存？`**，並輸入**正確的 `庫存數量`** 和 **`SKU`**。
    3.  對於熱賣且補貨快速的商品，可以將「允許補貨？」設定為 `允許，但需通知顧客`。

**情境二：混合型商店 (例如：同時販售 T-shirt 和線上課程)**

*   **你的策略：**
    1.  同樣的，在「**全域設定**」中**啟用庫存管理**。
    2.  對於 T-shirt (實體商品)，按照情境一的方式設定單品庫存。
    3.  對於線上課程 (虛擬商品)，在「**單品設定**」的庫存頁面，**不要勾選 `管理庫存？`**。然後手動將「庫存狀態」設定為 `尚有庫存`。這樣一來，線上課程就不會有限量問題，可以無限販售。

**情境三：選物店，部分商品為預購制**

*   **你的策略：**
    1.  在「**全域設定**」中，將「允許補貨？」的預設值保持為 `不允許`。
    2.  當你上架一個新的預購商品時，在「**單品設定**」中，將「庫存數量」設定為 `0`，並將「**允許補貨？**」設定為 `允許，但需通知顧客`。
    3.  這樣顧客下單時就知道這是在預購，而不會誤會是現貨。

**Moksa 核心觀念：**
**先全域，後單品。** 永遠先把全域的預設規則建立好，這會省下你未來新增商品時的大量時間。然後再根據每個商品的獨特性質，去微調單品的設定。這是一個既有效率又不容易出錯的管理流程。

恭喜你！學會了 WooCommerce 的庫存管理精髓。在下一堂課，我們將會探討更複雜的「可變商品」庫存設定。