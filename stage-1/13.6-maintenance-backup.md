# 13.06 (維護) 網站備份 (UpdraftPlus)

你好，我是 Moksa 的首席課程導師。

在這堂課中，我們要來談談所有網站營運者都必須嚴肅看待的課題：「**網站備份**」。如果說網站是你的數位資產，那麼備份就是你為這份資產買的「**保險**」。無論是主機故障、駭客入侵，還是自己不小心誤刪了重要資料，一個可靠的備份都能在關鍵時刻拯救你，讓你免於心血付諸流水的惡夢。

在 WordPress 生態系中，備份外掛琳瑯滿目，但 Moksa 團隊經過多年的實戰經驗，一致推薦 **UpdraftPlus**。它不僅擁有超過三百萬的活躍安裝量，功能強大、穩定可靠，而且免費版本就足以滿足絕大多數電商網站的需求。

接下來，就讓我們一步步學習如何使用 UpdraftPlus，為你的網站建立一套全自動的災難復原計畫。

---

### 為什麼備份如此重要？

在開始實作之前，請務必理解備份的價值：

1.  **人為失誤：** 不小心刪除商品、文章，或改壞了網站設定。
2.  **外掛/主題衝突：** 更新外掛或主題後，網站可能出現白畫面或功能異常。
3.  **駭客攻擊：** 網站若不幸被植入惡意程式或資料被竄改，備份是還原乾淨狀態的最快方法。
4.  **主機問題：** 虛擬主機供應商也可能發生硬體故障或資料遺失的狀況。

**Moksa 技巧：** 請記住一個黃金法則：「**沒有備份的網站，就是在賭博**」。不要等到災難發生才後悔莫及。

---

### 步驟 1：安裝與啟用 UpdraftPlus

首先，我們需要將 UpdraftPlus 安裝到你的 WordPress 網站中。

1.  登入你的 WordPress 後台。
2.  前往左側選單的「**外掛**」>「**安裝外掛**」。
3.  在右上角的搜尋框中，輸入「**UpdraftPlus**」。
4.  找到「UpdraftPlus WordPress Backup Plugin」，點擊「**立即安裝**」，然後點擊「**啟用**」。

``

安裝並啟用後，你會在 WordPress 上方工具列或「**設定**」選單中看到「**UpdraftPlus Backups**」的選項。

---

### 步驟 2：核心設定 - 建立你的備份計畫

這是整個備份流程中最關鍵的一步。我們要告訴 UpdraftPlus「**何時備份**」、「**備份到哪裡**」以及「**保留多久**」。

1.  從後台選單進入「**設定**」>「**UpdraftPlus Backups**」。
2.  你會看到幾個頁籤，請點擊「**設定 (Settings)**」頁籤。

``

#### 設定備份排程 (Scheduling)

在這裡，我們要分別設定「檔案」和「資料庫」的備份頻率。

*   **檔案備份 (Files backup):** 這包含了你的 WordPress 核心檔案、外掛、佈景主題以及你上傳的所有媒體檔案（如商品圖片）。
*   **資料庫備份 (Database backup):** 這包含了你的所有文章、頁面、商品資訊、訂單資料、使用者帳號等文字與設定內容。**資料庫通常變動更頻繁，是電商網站的心臟**。

**Moksa 技巧：** 我們建議的標準設定如下：
*   **檔案備份排程 (Files backup schedule):** 設定為「**每週 (Weekly)**」。
*   **資料庫備份排程 (Database backup schedule):** 設定為「**每日 (Daily)**」。
*   **保留備份數量 (retain this many scheduled backups):** 建議檔案保留 `4` 份（約一個月），資料庫保留 `14` 份（約兩週）。這樣可以在需要時，有足夠的時間點可以選擇還原。

``

#### 選擇遠端儲存空間 (Remote Storage)

**重要觀念：** **千萬不要**只把備份檔儲存在你的主機上！如果主機整個毀損，你的備份檔也會跟著消失，這就失去了備份的意義。我們必須將備份檔儲存到第三方雲端空間。

UpdraftPlus 支援多種遠端儲存空間，例如：Dropbox, Amazon S3, FTP 等。我們最推薦使用的是「**Google Drive (Google 雲端硬碟)**」，因為大多數人都有 Google 帳號，而且它提供 15GB 的免費空間，非常夠用。

1.  在遠端儲存的圖示列表中，點擊「**Google Drive**」。
2.  點擊後，下方會出現 Google Drive 的相關設定，你可以暫時保持預設。
3.  將頁面滾動到最下方，點擊「**儲存變更 (Save Changes)**」。

``

4.  儲存後，頁面會重新整理，並出現一個藍色提示框，要求你授權 UpdraftPlus 存取你的 Google Drive。
5.  點擊提示框中的**連結**，它會引導你登入 Google 帳號並授權。
6.  按照 Google 的指示完成授權流程，最後你會看到一個「**Complete setup**」的按鈕，點擊它即可返回你的網站後台。

``

到這裡，你的自動備份排程就設定完成了！UpdraftPlus 會在指定的時間自動執行備份，並將檔案安全地送到你的 Google Drive。

---

### 步驟 3：(實作) 執行你的第一次手動備份

在等待自動排程啟動之前，我們先來執行一次手動備份，以確保所有設定都正確無誤。

1.  回到 UpdraftPlus 的「**備份 / 還原 (Backup / Restore)**」頁籤。
2.  點擊藍色的「**立即備份 (Backup Now)**」大按鈕。
3.  會跳出一個確認視窗，請**確保以下三個選項都有勾選**：
    *   `Include your database in the backup` (在備份中包括您的資料庫)
    *   `Include your files in the backup` (在備份中包括您的檔案)
    *   `Send this backup to remote storage` (將此備份傳送至遠端儲存裝置)
4.  點擊「**立即備份**」。

``

你會看到備份進度條開始執行。備份時間的長短取決於你網站的大小。完成後，下方「**現有的備份 (Existing backups)**」區域就會出現剛剛完成的備份記錄。

**Moksa 技巧：** 此時，你可以登入你的 Google Drive，會發現裡面多了一個名為「UpdraftPlus」的資料夾，所有的備份檔都會存放在這裡。

---

### 步驟 4：如何還原網站？

學會備份，更要學會還原。當網站真的出問題時，請依照以下步驟操作：

1.  在 UpdraftPlus 的「**備份 / 還原 (Backup / Restore)**」頁籤中，找到「**現有的備份 (Existing backups)**」列表。
2.  找到你想要還原的時間點，點擊對應的「**還原 (Restore)**」按鈕。

``

3.  系統會讓你勾選要還原的元件，包含：**外掛、佈景主題、上傳、其他、資料庫**。
    *   如果是全站毀損，請**全部勾選**。
    *   如果只是誤刪商品或文章，通常只需要還原「**資料庫 (Database)**」即可。
4.  點擊「**下一步 (Next)**」，系統會開始從遠端儲存下載備份檔。
5.  下載完成後，再次確認並點擊「**還原 (Restore)**」。

``

6.  還原過程會顯示日誌，請耐心等待直到出現「**Restore successful!**」的成功訊息。
7.  最後，依照指示刪除舊目錄，整個還原過程就完成了。

恭喜你！你已經掌握了網站維護中最重要的一項技能。有了 UpdraftPlus 這道保險，你未來在經營網站時，將會更有信心與安全感。記得，定期檢查備份是否正常運作，是身為網站管理員的良好習慣。