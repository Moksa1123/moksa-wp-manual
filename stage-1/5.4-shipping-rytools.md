# 5.4 (實作) 串接「RY Tools (Pro) for WooCommerce」物流 (7-11/全家超商取貨)

你好！我是 Moksa 的首席課程導師。在這堂實作課程中，我們將一起完成台灣電商網站最關鍵的功能之一：**串接 7-11 與全家超商取貨物流**。

在台灣，超過八成的消費者習慣使用超商取貨，提供這個選項不僅能大幅提升顧客的購物便利性，更是提高網站轉換率的必要功能。Moksa 團隊經過長期實戰測試，一致推薦使用 **RY Tools (Pro) for WooCommerce** 這款外掛來實現此功能，它穩定、設定直覺，並且能與我們技術棧中的金流 (綠界 ECPay) 與發票完美整合。

現在，就讓我們開始動手設定吧！

---

### 前置準備：申請物流服務帳號

在開始設定外掛之前，你**必須**先完成對應超商的「後台物流服務」申請。這是一個獨立於網站之外的申請流程，你需要直接向超商的物流整合商提出申請，並取得他們提供的 API 串接金鑰。

*   **7-11 超商 (C2C)**
    *   **申請平台：** [ECFit](https://www.ecfit.com.tw/) (由統一數網提供)
    *   **必要資訊：** 申請通過後，你會取得一組「**商店代號 (StoreID)**」與「**API 金鑰 (API Key)**」。
*   **全家超商 (C2C)**
    *   **申請平台：** [ecship](https://www.ecship.com.tw/) (由日翊文化行銷提供)
    *   **必要資訊：** 申請通過後，你會取得一組「**商店代號 (StoreID)**」與「**雜湊碼 (HashKey)**」。

> **Moksa 技巧**：這些平台的申請通常需要數個工作天進行審核，建議你**提早申請**。在等待審核的同時，可以先繼續進行網站的其他設定。

---

### 步驟一：安裝與啟用 RY Tools (Pro) 外掛

首先，我們需要將你購買的 RY Tools (Pro) 專業版外掛安裝到你的 WordPress 網站中。

1.  登入你的 WordPress 後台。
2.  前往左側選單的「**外掛**」>「**安裝外掛**」。
3.  點擊上方的「**上傳外掛**」按鈕。
4.  選擇你從 RY Tools 官方網站下載的 `.zip` 壓縮檔，並點擊「**立即安裝**」。
5.  安裝完成後，點擊「**啟用外掛**」。

啟用後，你就可以在 WooCommerce 的設定中找到它了。

### 步驟二：輸入授權碼與全域設定

在開始設定物流細節前，我們要先啟用外掛的 Pro 功能授權，並設定一些共用的寄件資訊。

1.  從後台選單前往「**WooCommerce**」>「**設定**」。
2.  切換到「**運送方式**」分頁。
3.  在上方點選「**RY Tools**」，你會看到 RY Tools 的專屬設定頁面。

    `[截圖：顯示 WooCommerce -> 設定 -> 運送方式 -> RY Tools 的設定頁面]`

4.  **授權碼設定 (License)**
    *   找到「**Pro 授權碼**」欄位。
    *   將你購買時收到的授權碼貼上，並點擊「**儲存設定**」。頁面刷新後，系統會驗證你的授權碼是否有效。

5.  **全域設定 (Global Settings)**
    *   **寄件人姓名**：輸入你的商店名稱或品牌名稱。
    *   **寄件人手機**：輸入你的聯絡手機，物流有問題時會聯繫此號碼。
    *   **Moksa 技巧**：此處的寄件人資訊是「**預設值**」，當你有多個寄件人需求時，可以在個別的運送方式中進行覆寫。

### 步驟三：設定超商物流串接金鑰 (API)

這是最關鍵的一步，我們要將從 ECFit 和 ecship 申請到的 API 金鑰填入外掛中，讓你的網站能跟超商的物流系統溝通。

1.  在同一個 RY Tools 設定頁面中，向下捲動找到「**7-11 C2C**」區塊。
2.  **啟用 7-11 C2C 服務**：
    *   勾選「**啟用 7-11 C2C**」。
    *   **商店代號 (StoreID)**：填入 ECFit 提供給你的 StoreID。
    *   **API 金鑰 (API Key)**：填入 ECFit 提供給你的 API Key。
    *   **運送服務類型**：你可以選擇「**取貨付款**」與「**取貨不付款**」都啟用，或只啟用其中一種。

    `[截圖：顯示 7-11 C2C 設定區塊，並標示出 StoreID 和 API Key 欄位]`

3.  接著，找到「**全家 C2C**」區塊。
4.  **啟用全家 C2C 服務**：
    *   勾選「**啟用全家 C2C**」。
    *   **商店代號 (StoreID)**：填入 ecship 提供給你的 StoreID。
    *   **雜湊碼 (HashKey)**：填入 ecship 提供給你的 HashKey。
    *   **運送服務類型**：同樣，你可以根據你的業務需求，選擇啟用「**取貨付款**」或「**取貨不付款**」。

5.  完成後，務必點擊頁面最下方的「**儲存設定**」。

### 步驟四：在「運送區域」中新增超商取貨選項

API 設定完成後，我們還需要告訴 WooCommerce，要在哪個「運送區域 (Shipping Zone)」提供超商取貨的選項，並設定運費。

1.  回到「**WooCommerce**」>「**設定**」>「**運送方式**」分頁。
2.  點擊「**運送區域**」。如果你還沒有建立任何區域，請點擊「**新增運送區域**」。
3.  我們以「台灣」為例。點進你的「**台灣**」運送區域。

    `[截圖：顯示運送區域列表，並圈選出「台灣」區域]`

4.  在「**運送方式**」區塊，點擊「**新增運送方式**」。
5.  在跳出的視窗中，從下拉選單選擇「**RY 超商取貨**」，然後點擊「**新增運送方式**」。

    `[截圖：顯示新增運送方式的彈出視窗，並選擇「RY 超商取貨」]`

6.  新增後，你會看到列表多了一項「RY 超商取貨」。將滑鼠移到上面，點擊「**編輯**」。
7.  **設定運送方式細節**：
    *   **標題**：這是顧客在結帳頁面看到的名稱，可以自訂，例如「7-11/全家 超商取貨」。
    *   **運費**：設定固定的運費，例如 `65` 元。
    *   **啟用物流**：**這個最重要！** 勾選「**7-11 C2C**」和「**全家 C2C**」。如果你只想提供其中一家，就勾選對應的選項。
    *   **可用的付款方式**：
        *   **超商取貨不付款**：勾選你已設定好的線上金流，例如「**綠界 ECPay - 信用卡**」、「**LINE Pay**」。
        *   **超商取貨付款**：勾選「**貨到付款**」或是你金流外掛提供的「**綠界 ECPay - 超商代碼/條碼**」(若顧客選擇貨到付款，此處可不勾選)。
    *   **免費運送門檻**：這是 RY Tools Pro 的強大功能。你可以在此欄位設定一個金額，例如 `1500`。當購物車金額達到 1500 元時，此運送方式將自動變為免費。

    `[截圖：顯示「RY 超商取貨」的詳細設定視窗，並標示出「啟用物流」和「免費運送門檻」]`

8.  設定完成後，點擊「**儲存設定**」。

### 步驟五：前往前台測試

恭喜你！所有後台設定都已完成。現在，讓我們以顧客的身份來實際測試看看。

1.  開啟你網站的任一商品頁面，將商品加入購物車。
2.  前往「**結帳**」頁面。
3.  在「**運送方式**」區塊，你現在應該能看到剛剛設定的「**7-11/全家 超商取貨**」選項，以及對應的運費。

    `[截圖：結帳頁面的運送方式區塊，顯示出超商取貨選項]`

4.  選擇此運送方式後，下方會出現一個「**選擇取貨門市**」的按鈕。
5.  點擊按鈕，畫面上應該會彈出一個地圖選擇器，讓你可以搜尋並選擇 7-11 或全家的門市。

    `[截圖：彈出的電子地圖，顯示可選擇的超商門市]`

6.  選擇門市後，結帳頁面會自動帶入門市的名稱與地址。

如果以上流程都順利，就代表你的超商物流已經成功串接並運作正常了！

---

### 🏆 Moksa 技巧與總結

在這堂課中，我們完成了從申請 API、安裝外掛，到完整設定超商取貨選項的全部流程。請記得幾個關鍵重點：

*   **API 金鑰是橋樑**：沒有正確的 API 金鑰，你的網站就無法與超商物流系統溝通。
*   **設定分為兩部分**：第一部分是在「**RY Tools**」設定頁面中填入 API 金鑰；第二部分是在「**運送區域**」中，將「RY 超商取貨」這個方法**實際加入**並設定運費。
*   **活用免費運送門檻**：這是非常有效的行銷工具，善用它可以有效提高客單價。
*   **付款方式連動**：務必檢查「可用的付款方式」設定，確保顧客選擇「取貨不付款」時，不會看到「貨到付款」的選項，反之亦然。

完成了物流串接，你的電商網站就已經具備了穩固的基礎。在接下來的課程中，我們將會教你如何管理這些來自超商取貨的訂單，以及如何一鍵產生寄件單，完成整個出貨流程。我們下一堂課見！