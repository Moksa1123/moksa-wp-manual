# 14.03 (實務) 圖片轉檔與壓縮 (Squoosh / ShortPixel)

嗨，歡迎來到這個章節！網站的速度是影響使用者體驗與 SEO 排名最重要的因素之一，而其中最常見的「速度殺手」就是未經最佳化的圖片。一張手機拍出來的 5MB 照片，可以直接讓你的網頁載入時間增加好幾秒。

在這堂課中，我們將學習 Moksa 團隊推薦的「**圖片最佳化黃金流程**」。我們會介紹兩種強大的工具：

1.  **Squoosh (手動工具):** Google 開發的免費線上工具，適合在上傳**前**，針對特定重要圖片（如首頁 Banner、主要商品圖）進行精細的「**轉檔**」與「**壓縮**」，追求極致的檔案大小與畫質平衡。
2.  **ShortPixel (自動外掛):** WordPress 的知名外掛，它會在圖片上傳**後**，在你的網站伺服器上「**自動**」進行壓縮與轉檔，作為一道防線，確保網站中的每一張圖片都經過最佳化。

我們的目標是：讓你在上傳圖片時，像呼吸一樣自然地完成最佳化，徹底告別肥大的圖片檔案！

---

### 什麼是「轉檔」與「壓縮」？

在開始實作之前，讓我們先釐清兩個重要觀念：

*   **圖片轉檔 (Format Conversion):** 指的是將圖片從一個格式轉換成另一個格式。例如，將傳統的 `JPG` 或 `PNG` 轉換為更現代、檔案更小的 **WebP** 或 **AVIF** 格式。**Moksa 技巧：** 現今主流瀏覽器都支援 WebP，它可以比 JPG 小 25-35% 卻維持幾乎相同的視覺品質，是我們的首選格式。
*   **圖片壓縮 (Compression):** 指的是在不改變格式的情況下，透過演算法移除圖片中不必要的資料來減少檔案大小。
    *   **有損壓縮 (Lossy):** 會稍微降低圖片品質，但能大幅縮小檔案，是網站圖片的**最佳選擇**。
    *   **無損壓縮 (Lossless):** 不會損失任何畫質，但壓縮效果有限，通常用於需要保留精確細節的圖片（如：醫學影像、技術圖表）。

---

### 第一部分：Squoosh - 上傳前的「手動」精細處理

當你需要處理網站的門面，例如首頁的 Hero Image、活動 Banner 或最重要的產品主圖時，我們推薦使用 Squoosh 手動處理，以確保最佳效果。

**步驟 1：前往 Squoosh 網站**

*   打開你的瀏覽器，前往 Squoosh 的官方網站：[https://squoosh.app/](https://squoosh.app/)

**步驟 2：上傳你的圖片**

*   直接將你的圖片檔案拖曳到網頁上，或是點擊中間的圖示來選取檔案。

``

**步驟 3：調整圖片尺寸 (Resize)**

*   這是**最重要**的第一步！如果你的圖片原始尺寸是 4000px 寬，但實際在網頁上顯示的寬度只有 1200px，那麼你應該先縮小它。
*   在右下角的「**Edit**」區塊，找到「**Resize**」。
*   勾選「**Resize**」，並在「**Width**」或「**Height**」欄位輸入你想要的尺寸。**Moksa 技巧：** 一般全寬的 Banner 建議寬度設定在 `1920`px 即可；部落格文章或商品內頁的圖片，`1200`px 就非常夠用了。

``

**步驟 4：選擇格式並壓縮 (Compress)**

*   在右下角的「**Compress**」區塊，點擊下拉選單。
*   **格式選擇：** 我們強烈建議選擇「**WebP**」。
*   **品質調整：**
    *   你會看到一個「**Quality**」滑桿，數值從 0 到 100。
    *   你可以拖動中間的滑桿，即時比較「原始圖片 (左)」與「壓縮後圖片 (右)」的畫質差異。
    *   **Moksa 技巧：** 一般來說，Quality 設定在 **70-80** 之間，可以在畫質與檔案大小之間取得絕佳的平衡點。
    *   注意看右下角的檔案大小，你會驚訝地發現它可能已經縮小了 80% 以上！

``

**步驟 5：下載並上傳**

*   調整滿意後，點擊右下角的「**下載**」按鈕。
*   你就會得到一個體積小、畫質佳的 `.webp` 檔案。現在，再將這個檔案上傳到 WordPress 的媒體庫中。

> **Moksa 總結：** Squoosh 的使用時機是「**質量勝於數量**」。針對少量、關鍵的圖片，花一分鐘手動處理，絕對值得。

---

### 第二部分：ShortPixel - 上傳後的「自動」最佳化

對於部落格內文、大量商品圖等日常上傳的圖片，一張張手動處理太沒效率。這時，我們就交給 ShortPixel 這位自動化管家。

**步驟 1：安裝與啟用 ShortPixel 外掛**

*   前往 WordPress 後台 > **外掛** > **安裝外掛**。
*   搜尋「**ShortPixel Image Optimizer**」。
*   點擊「**立即安裝**」並「**啟用**」。

**步驟 2：取得並設定 API 金鑰**

*   啟用後，你會看到提示訊息，要求你設定 API 金鑰。
*   點擊「**Sign up for a free API Key**」按鈕，它會引導你到 ShortPixel 官網用 Email 免費註冊。
*   註冊完成後，你會在信箱中或官網後台找到你的 **API Key**。
*   將這組 Key 複製並貼到 WordPress 後台 ShortPixel 的設定欄位中，然後儲存。

``

**步驟 3：Moksa 團隊建議設定**

前往 WordPress 後台 > **設定** > **ShortPixel**，我們建議你進行以下設定：

*   **Compression type (壓縮類型):** 選擇「**Lossy (有損)**」。這是對網站速度最友善的選項。
*   **Also include WebP versions of images (也建立 WebP 版本):** **務必勾選此項！** 這是現代網站的標配。ShortPixel 會自動為你上傳的 JPG/PNG 產生一個對應的 WebP 檔案，並在支援的瀏覽器上優先提供 WebP 版本。
*   **Image backup (圖片備份):** 建議**勾選**。它會在伺服器上保留你的原始圖片，以防萬一你需要還原。
*   **Resize large images (調整大圖片尺寸):** 建議**勾選**，並設定一個最大寬度與高度，例如 `1920`px。這可以防止你的同事或客戶不小心上傳了超高解析度的原圖，ShortPixel 會自動將其縮小到合理的尺寸再進行壓縮。

``

**步驟 4：執行大量處理 (Bulk Optimization)**

*   如果你網站上線前就已經安裝了 ShortPixel，那它會自動處理未來所有上傳的圖片。
*   但如果你的網站已經有許多舊圖片，你需要手動執行一次「**大量處理**」。
*   前往 WordPress 後台 > **媒體** > **Bulk ShortPixel**。
*   點擊「**Start Optimizing**」按鈕，ShortPixel 就會開始在背景逐一最佳化你媒體庫中所有尚未處理的圖片。這個過程可能需要一些時間，取決於你的圖片數量。

``

### 總結：Moksa 的圖片最佳化標準流程 (SOP)

為了達到最佳效果，請將這兩個工具整合到你的日常工作中：

1.  **關鍵視覺圖片 (如首頁 Banner、活動主圖)：**
    *   先使用 **Squoosh** 進行手動處理：**(1) 縮小尺寸 -> (2) 轉成 WebP -> (3) 調整品質**。
    *   下載最佳化後的 `.webp` 檔。
    *   上傳到 WordPress。

2.  **一般內容圖片 (如部落格內文插圖、普通商品圖)：**
    *   **直接上傳**到 WordPress 媒體庫。
    *   讓 **ShortPixel** 在背景**自動**完成所有壓縮、轉檔的工作。

3.  **定期檢查：**
    *   每隔一兩個月，可以到「媒體 > Bulk ShortPixel」頁面檢查一下，確保沒有任何漏網之魚。

養成這個習慣，你的網站將會因為輕盈的圖片而健步如飛。這不僅能提升使用者體驗，Google 的 **Rank Math SEO** 分數也會感謝你的！