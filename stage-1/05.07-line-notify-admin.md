# 5.7 (實務) 整合 OrderNotify for WooCommerce (管理者新訂單通知)

嗨，各位 Moksa 的學員們！在本章節中，我們將學習一個對電商營運者來說極為實用且重要的工具：**OrderNotify for WooCommerce**。

想像一下，當顧客在你的網站上完成一筆訂單時，你的手機 LINE 立刻「叮咚！」一聲，跳出新訂單通知，包含訂單編號、金額、付款方式等關鍵資訊。這不僅讓你感到安心，更能讓你**第一時間掌握商店動態**，以最快的速度進入出貨流程，大幅提升營運效率與顧客滿意度。

相較於傳統的 Email 通知，LINE 通知有著**更高的即時性與便利性**。你不需要時時刻刻守在電腦前檢查信箱，無論身在何處，只要有網路，就能即時收到通知。這就是我們今天要設定的目標。

**本章節學習重點：**

1.  了解 OrderNotify for WooCommerce 外掛的核心功能。
2.  學會如何申請 LINE Notify 服務並取得權杖 (Token)。
3.  完成外掛設定，串接 WordPress 與你的 LINE 帳號。
4.  客製化通知訊息，打造專屬於你的訂單快報。

---

### 前置準備

在開始設定前，請確保你已經完成以下準備：

1.  **安裝並啟用 OrderNotify for WooCommerce 外掛：** 你可以從 [Oberon Lai 的官方網站](https://oberonlai.blog/product/woocommerce-notify/) 下載此外掛，並透過 WordPress 後台「外掛」>「安裝外掛」>「上傳外掛」的方式進行安裝與啟用。
2.  **一個有效的 LINE 帳號：** 這將是你用來接收通知的帳號。

準備好了嗎？我們開始吧！

---

### 步驟一：取得 LINE Notify 權杖 (Access Token)

要讓你的網站能發送訊息到你的 LINE，我們需要先向 LINE 官方申請一把「鑰匙」，這把鑰匙在技術上稱為 **Access Token (存取權杖)**。

1.  **前往 LINE Notify 官方網站：**
    請在瀏覽器開啟 [https://notify-bot.line.me/zh_TW/](https://notify-bot.line.me/zh_TW/)。

2.  **登入你的 LINE 帳號：**
    點擊右上角的「登入」，使用你手機 LINE 的 Email 和密碼登入。
    ``

3.  **進入個人頁面並發行權杖：**
    登入成功後，再次點擊右上角你的帳號名稱，選擇「**個人頁面**」。
    ``

    進入個人頁面後，向下捲動找到「發行權杖」的區塊，點擊「**發行權杖**」按鈕。

4.  **設定權杖資訊：**
    *   **權杖名稱：** 這是給你自己看的，方便你管理多個不同的通知服務。**Moksa 技巧：** 我們建議取一個有意義的名稱，例如「**我的網路商店 - 新訂單通知**」。
    *   **選擇接收通知的聊天室：**
        *   **(推薦) 透過 1 對 1 聊天接收 LINE Notify 的通知：** 如果只有你一個人需要收到通知，請選擇這個選項。通知會直接傳送到你與「LINE Notify」官方帳號的私人聊天室中。
        *   **選擇群組：** 如果你有一個團隊（例如：你、小幫手、倉管人員）都需要同步收到訂單通知，你可以先在 LINE 建立一個群組，並將「LINE Notify」官方帳號邀請加入該群組，然後在這裡選擇該群組。
    ``

    設定完成後，點擊最下方的「**發行**」按鈕。

5.  **複製並妥善保管權杖：**
    點擊發行後，系統會產生一組獨一無二的權杖。**請注意：這組權杖只會顯示這一次！** 關閉視窗後就再也看不到了。請立刻點擊「**複製**」按鈕，並將它貼到一個暫存的地方（例如：記事本）。
    ``

    > **重要觀念：** 這組權杖就等同於你 LINE 通知的密碼，請**絕對不要**外洩給任何人或張貼在公開的網路空間。

---

### 步驟二：設定 Order Notify 外掛

取得權杖後，我們回到 WordPress 後台來完成最後的設定。

1.  **進入外掛設定頁面：**
    從左側選單前往「**WooCommerce**」>「**設定**」，然後點擊上方的「**Order Notify**」頁籤。
    ``

2.  **填入權杖與設定訊息：**
    *   **LINE Notify 權杖 (Token):** 將我們在步驟一複製的那一長串權杖，完整地貼到這個欄位。
    *   **訂單狀態：** 這裡是設定「**當訂單狀態轉變為以下狀態時，就發送通知**」。
        *   **Moksa 技巧：** 對於大部分使用線上金流（如：綠界 ECPay 信用卡、LINE Pay）的商店，我們**強烈建議勾選「處理中 (Processing)」**。因為當顧客付款成功後，WooCommerce 的訂單狀態會自動轉為「處理中」，這代表你已經收到款項，可以準備出貨了。
        *   如果你有提供 ATM 轉帳或貨到付款，可以視情況加選「保留 (On Hold)」。但「處理中」通常是管理者最需要即時知道的狀態。
    *   **通知訊息格式：** 這是設定你收到的 LINE 通知內容，你可以自由組合文字與下方的可用變數。

    以下提供一個 **Moksa 推薦的訊息範本**，你可以直接複製貼上使用：

    ```
    🔔 新訂單成立！
    
    訂單編號：#{order_id}
    訂購時間：{order_date}
    --------------------
    顧客姓名：{billing_full_name}
    顧客手機：{billing_phone}
    --------------------
    付款方式：{payment_method_title}
    訂單總額：{order_total}
    
    物流方式：{shipping_method}
    運送地址：{shipping_address}
    --------------------
    🔥 請盡速處理！
    ```

    ``

3.  **儲存並發送測試訊息：**
    設定完成後，請務必點擊「**儲存設定**」。
    儲存後，可以點擊權杖欄位旁的「**發送測試訊息**」按鈕。如果設定正確，你的 LINE 馬上就會收到一則測試訊息！
    ``

    如果收到測試訊息，恭喜你，設定已經大功告成！

---

### 步驟三：實際測試與驗證

最後一步，我們要模擬顧客下單，來驗證整個流程是否順暢。

1.  **建立一個 100% 折扣的優惠券**，或使用你的金流測試模式（例如綠界 ECPay 的測試商店）。
2.  回到你的商店前台，像一般顧客一樣，將商品加入購物車，然後前往結帳。
3.  完成結帳流程。
4.  在訂單完成的瞬間，檢查你的手機 LINE 是否收到了格式如你所設定的新訂單通知。

收到的訊息應該會長得像這樣：
``

---

### 總結

透過 OrderNotify 外掛，我們成功地為網站管理者建立了一個高效、即時的新訂單通知系統。這只是自動化營運的第一步，但卻是至關重要的一步。

當你習慣了訂單一進來、LINE 馬上通知的節奏後，你將再也回不去那種需要不斷手動整理 Email 或登入後台查看訂單的舊時代了。這不僅節省了你的時間，更讓你對商店的掌握度提升到一個新的層次。接下來，你就可以專注在更重要的事情上，例如：產品優化、行銷活動與客戶關係維護。