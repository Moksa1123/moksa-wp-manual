# 6.1 認識訂單狀態 (保留/處理中/已完成)

嗨，歡迎來到網站營運實戰的全新章節！我是 Moksa 的首席課程導師。

在開始學習如何「出貨」之前，我們必須先建立一個至關重要的基礎觀念：**認識 WooCommerce 的訂單狀態 (Order Status)**。這不僅僅是訂單旁邊的一個標籤，它更是整個營運流程的核心。每一個狀態的改變，背後都可能觸發金流確認、庫存變動、發票開立，甚至是自動化的行銷郵件。

理解訂單狀態，你才能有條不紊地管理你的商店，確保沒有任何一張訂單被遺漏。

---

### WooCommerce 核心訂單狀態概覽

首先，讓我們先快速認識一下 WooCommerce 內建的幾個核心訂單狀態，以及它們在 **Moksa 技術棧** 環境下的代表意義：

| 狀態圖示 | 狀態名稱 | 代表意義 | Moksa 實務情境 |
| :--- | :--- | :--- | :--- |
| `[截圖]` | **待付款 (Pending payment)** | 顧客已下單，但尚未付款或付款失敗。庫存**不會**被扣除。 | 顧客選擇了 ATM 轉帳但尚未去轉帳；或是信用卡刷卡到一半關閉了頁面。 |
| `[截圖]` | **失敗 (Failed)** | 付款失敗或被拒絕 (例如：信用卡額度不足)。 | 金流閘道 (如綠界 ECPay) 明確回傳了「付款失敗」的訊息。 |
| `[截圖]` | **保留 (On hold)** | 訂單已成立，**庫存已被扣除**，但系統正在等待一個「離線」的付款確認。 | **這是 ATM 虛擬帳號轉帳的標準狀態。** 顧客取得帳號後，系統會將訂單設為「保留」，等待綠界回傳付款成功的通知。 |
| `[截圖]` | **處理中 (Processing)** | **最重要的狀態！** 代表「**款項已收到，商品待出貨**」。 | 顧客使用**信用卡**或 **LINE Pay** 付款成功後，訂單會**自動**進入此狀態。ATM 轉帳在顧客付款成功後，也會從「保留」自動跳轉至此狀態。 |
| `[截圖]` | **已完成 (Completed)** | 訂單已出貨，且顧客已收到商品。整個交易流程結束。 | 管理員在確認商品寄出後，**手動**將訂單從「處理中」更新為「已完成」。 |
| `[截圖]` | **已取消 (Cancelled)** | 由管理員或顧客取消的訂單。庫存會被自動加回。 | 顧客來電取消，或超過付款時效。 |
| `[截圖]` | **已退款 (Refunded)** | 由管理員執行退款後的狀態。 | 顧客申請退貨退款，並已完成退款操作。 |

`[截圖]`
*(示意圖：在 WooCommerce 後台訂單列表頁面，可以看到各種不同顏色的訂單狀態圖示。)*

---

### 詳細解析三大主要狀態

在日常營運中，你最常接觸、也最需要親手處理的，就是「保留」、「處理中」與「已完成」這三個狀態。

#### 1. 「保留 (On hold)」狀態：等待手動或自動的付款確認

當你的商店提供**綠界 ECPay 的 ATM 虛擬帳號**轉帳時，「保留」狀態就是你的好朋友。

*   **觸發時機：**
    *   顧客在結帳頁面選擇「ATM 虛擬帳號」並點擊「下單購買」。
    *   WooCommerce 會立即成立訂單，並將庫存保留給這位顧客。
    *   訂單狀態會自動設為「**保留 (On hold)**」。

*   **管理員要做什麼？**
    *   在理想情況下，**你什麼都不用做**。
    *   **Moksa 技巧：** 我們整合的**綠界 ECPay 金流外掛**會與綠界主機進行溝通。一旦顧客完成轉帳，綠界會發送一個通知 (我們常稱為 "callback" 或 "webhook") 給你的網站，外掛接收到後，會**自動**將訂單狀態從「保留」更新為「**處理中 (Processing)**」。
    *   你唯一需要介入的情況是，如果顧客宣稱已付款，但狀態超過一天都沒更新，你才需要登入綠界後台去手動核對款項。

#### 2. 「處理中 (Processing)」狀態：你的每日待辦清單

**「處理中」可以說是電商管理員最重要的工作儀表板。** 所有狀態為「處理中」的訂單，都代表著「錢已入帳，貨該出了」。

*   **觸發時機：**
    *   顧客使用**信用卡**或 **LINE Pay** 付款成功。
    *   ATM 轉帳的訂單，在顧客付款後由「保留」自動跳轉而來。

*   **管理員要做什麼？**
    *   這就是你每日出貨流程的起點。看到「處理中」的訂單，你需要執行以下標準動作 (我們會在下一堂課詳細實作)：
        1.  **撿貨與包裝**：根據訂單內容準備商品。
        2.  **列印物流單**：使用 **RY Tools** 外掛產生 7-11 或全家的超商寄件單。
        3.  **開立電子發票**：使用**綠界 ECPay 電子發票**外掛，觸發開立發票。
        4.  **寄送商品**：將包裹拿去超商或給物流公司。

    `[截圖]`
    *(示意圖：在訂單編輯頁面，右側有一個「訂單動作」的下拉選單，顯示著「處理中」狀態。)*

#### 3. 「已完成 (Completed)」狀態：訂單的終點，行銷的起點

當商品已經寄出，並且你確認物流已送達或顧客已取貨後，就該手動將訂單狀態更新為「已完成」。

*   **觸發時機：**
    *   通常是在你將貨物交給物流士，或在超商完成寄件後，回到電腦前**手動更新**。
    *   **Moksa 技巧：** 為什麼不建議在「處理中」就直接開好發票、印好托運單後立刻改為「已完成」？因為「已完成」在我們的系統中會觸發許多**售後自動化流程**，最好等顧客確實拿到商品後再觸發，體驗會更好。

*   **管理員要做什麼？**
    *   **步驟 1：** 進入「處理中」的訂單編輯頁面。
    *   **步驟 2：** 在右側的「**狀態**」下拉選單中，選擇「**已完成 (Completed)**」。
    *   **步驟 3：** 點擊旁邊的「**更新**」按鈕。

    `[截圖]`
    *(示意圖：管理員手動將訂單狀態從「處理中」改為「已完成」並點擊更新的畫面。)*

*   **「已完成」觸發的自動化事件：**
    *   **WooCommerce 內建**：發送「您的訂單已完成」的 Email 通知給顧客。
    *   **YITH Points and Rewards**：如果你的商店有點數回饋機制，通常會設定在訂單「已完成」時，才將**購物點數**發放到顧客帳戶。
    *   **FluentCRM**：這是啟動**顧客關係再行銷**的絕佳時機！例如，你可以設定一條自動化規則：「凡是訂單狀態變為『已完成』的顧客，7 天後自動寄送一封邀請他/她留下商品評論的 Email。」
    *   **Order Notify (LINE)**：發送一則 LINE 官方帳號的訊息，通知顧客「您的訂單已完成，感謝您的購買！」，並附上查詢網址或客服連結。

### 本章節總結

恭喜你！你已經掌握了 WooCommerce 訂單管理最核心的觀念。請記住這張流程圖：

**[信用卡/LINE Pay]** -> **處理中** -> (出貨後) -> **已完成**

**[ATM 轉帳]** -> **保留** -> (顧客付款後) -> **處理中** -> (出貨後) -> **已完成**

理解訂單狀態的流轉，不僅能讓你管理訂單井井有條，更能讓你充分利用 Moksa 技術棧中的各種自動化工具，在正確的時間點觸發正確的動作，提升營運效率與顧客滿意度。

在下一堂課《6.2 (實作) 管理者的標準出貨流程 (SOP)》，我們將會把今天學到的理論化為實際行動，從一張「處理中」的訂單開始，一步步完成撿貨、打包、列印托運單與寄件的完整流程。我們下一堂課見！